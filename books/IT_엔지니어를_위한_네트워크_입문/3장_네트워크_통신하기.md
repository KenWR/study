# [유니캐스트, 멀티캐스트, 브로드캐스트, 애니캐스트]

## [유니캐스트(Unicast)]   
	1:1 통신   
	출발지와 목적지가 1:1 로 통신

	IP : 192.168.0.xx --> 192.168.0.xx 로 통신하는 것   

## [브로드캐스트(Broadcast)]   
	1:모든통신   
	동일 네트워크에 존재는 모든 호스트가 목적지

	IP : 192.168.0.xx --> 192.168.0.255 (2 진수로 11111111) 로 모든 대역폭에 전송   
	기본적으로 NIC 가 전기신호를 수신할 때 송신을 하지 못하므로 어느정도 지연이 일어나게된다   
	그렇기에 최대한 자제하여 사용하는 것이 좋다    

## [멀티캐스트(Multicast)]   
	1:그룹(멀티캐스트 구독 호스트) 통신
	하나의 출발지에서 다수의 특정 목적지로 데이터 전송

	인터넷 방송을 생각하면 되는데 시청자들을 하나의 그룹으로 묶어   
	그룹에 해당되는 사람들에게만 브로드캐스트를 하는 것   
	(실제로 2 계층에서 브로드캐스트로 처리된다)

	IPTV(IGMP) 에 사용되는 기술이다   


## [애니캐스트(Anycast)]   
	1:1 통신(목적지는 동일 그룹내의 1 개 호스트)
	다수의 동일 그룹 중 가장 가까운 호스트에서 응답
	IPv4 에서는 일부 기능 구현, IPv6 은 모두 구현 가능   

	브로드캐스트, 멀티캐스트와 같이 여러 네트워크에 전송하는 부분에 있어 생기는 비효율을 처리하기 위해 `SDN` 이라는 기술이 있으며 해당 기술에 적용되는 방식이다     

	대표적인 방식으로는 구글의 DNS 주소인 `8.8.8.8` 을 통해 가장 가까운 호스트와 연결하는 방식이 있다   

		BGP : 
			AS 간의 라우팅을 지원하여 최선의 PATH 를 찾는 인터넷 자율 시스템
			즉, 가장 짧은 AS-PATH 를 찾으려고 하는 프로토콜로 네트워크를 최적화 해준다
			
[BGP_PDF](./자료/Netmanias.2010.07.10_BGP_Protocol_Overview.pdf)   
[BGP_AWS](https://aws.amazon.com/ko/what-is/border-gateway-protocol/)   

**이러한 통신 방식들은 실제 데이터를 보내는 목적지를 기준으로 구분한다**

### [BUM 트래픽]

`Broad`, `UnknownUni`, `Multi` 캐스트를 합친 말로 실질적인 동작이 브로드 캐스트와 같을 때를 가리킨다   
위에서 말했듯이 이러한 브로드캐스트 방식은 쓸데없이 네트워크 자원을 소모하기 때문에 네트워크 성능 저하를 불러 일으켜 문제가 생긴다   

이더넷 환경에서는 ARP 브로드캐스트를 먼저 보내고 통신을 시작해 `BUM` 트래픽이 많이 발생하지 않는다고 한다   

# [MAC 주소]

MAC 주소는 Media Access Control 의 줄임말로 2 계층 에서 통신을 위해 네트워크 인터페이스에 할당된 고유 식별자   

`48비트`, `16진수`, `12자리` 로 표현이되며    
앞의 6자리는 IEEE 가 제조사에 할당하는 부분이고(Organizational Unique Identifier)    
뒤의 6자리는 각 제조사에서 네트워크 구성 요소에 할당하는 부분이다(Universally Administered Address)   

	MAC 주소는 절대적인가?
		흔히 MAC 주소는 유일한 값이라고 생각하지만 꼭 그렇지는 않다   
		물리적인 부분에서는 제조사에서 그냥 아무렇게나 찍어버릴수도 있고   
		논리적 부분에서는 이 MAC 주소도 결국 메모리에 적재되어 구동되므로 여러가지 방법을 통해 변경할 수 있다
		또한 윈도우나 핸드폰의 경우 MAC 주소를 손쉽게 변환할 수 있는데다 하나의 단말에 여러가지 NIC 를 가질 수 있으므로 단말이 아닌 NIC 에 종속되는 MAC 주소의 특성상 몇몇 복잡한 네트워크 장비는 NIC 와 MAC 주소가 여러개 할당 되기도 한다   

동작 방식으로는   
MAC 주소를 가지고 있는 NIC 에서 전기 신호가 들어오면 2 계층에서 패킷 형태로 변환하여 내용을 구분한 후,   
도착지 MAC 주소를 확인하여 그 주소가 맞으면 상위 계층으로 넘겨주고 맞지 않으면 폐기한다   

특이 케이스의 경우로 본인의 주소나 브로드캐스트 주소는 NIC 자체적으로 패킷을 처리하지 않고 OS 나 애플리케이션에서 처리해야 하므로 시스템에 부하가 작용한다   

### [무차별 모드(Promiscuous Mode)]

다른 목적지를 가진 패킷을 분석 할 수 있도록 하는 모드   
대표적으로  `Wireshark` 라는 패킷 분석 애플리케이션이 있다   

# [IP 주소]

OSI 7 계층 중 주소를 갖는 계층은 2, 3 계층 둘 뿐이다   
그중 논리 주소인 IP 주소는 3 계층에서 사용된다   

대부분의 네트워크가 `TCP/IP` 로 작동하기에 IP 주소 체계를 이애하는것이 좋다   

![IP_address](자료/ipaddress.png)   

각각 8 비트씩 `옥텟` 이라고 하며 총 4개의 옥텟으로 구성되어있다   

크게 네트워크 주소와 호스트 주소로 나뉘는데 이 둘을 구분하기 위해 `서브넷 마스크` 라는 구분자로 구분한다   
        
## [클래스 IP(클래스풀)]

![class_ip](자료/class_ip.png)

IP 를 부여할때 고정된 비트 수 만큼 네트워크 번호를 부여해주고 나머지 남은 비트가 호스트 주소가 되는데 해당 비트로 만들 수 있는 경우의 개수가 만들 수 있는 호스트 개수 와 같다   
호스트 개수를 위의 방식으로 크기를 정해 줘서 IP 주소를 부여하기위해 만든것이 클래스 IP 이다   

A, B, C, D, E 클래스가 존재하며 D, E 클래스는 멀티캐스트, Reserved for futures 로 나뉘며 나머지 A, B, C 클래스는 각기    
첫 번째, 두 번째, 세 번째 까지의 주소가 네트워크 주소,    
그 외에는 호스트 이며 구분 방법으로는    
`첫 옥텟 2 진수 8 자리`부터    
0(001. ~ 126), 10(128 ~ 191), 110(192 ~ 223) 으로 나뉘어 있다   
001.xxx.xxx.xxx, 128.xxx.xxx.xxx ...
(멀티캐스트의 경우 1110 이 부여된다)      

이렇게 확장성과 효율성을 모두 잡아주었던 클래스 IP 체계를 `클래스풀` 이라고 부른다   

## [클래스리스 IP]

인터넷이 확장되며 사용자가 기하급수적으로 늘어남과 동시에 클래스풀 주소 체계로 부여 할 수 있는 IP 숫자가 터무니 없이 적었고 그와 동시에 낭비되는 IP 숫자가 늘어나면서 여러가지 대책들이 생겨났는데, 그중 첫번 째 단기 대책으로서 클래스리스 네트워크가 등장하게 되었다   

현재 사용중인 주소 체계는 클래스 개념을 적용하지 않는 클래스리스 기바 주소 체계이다   

첫 번째 옥텟의 앞 숫자를 보고 클래스를 확인한 후 어디까지가 네트워크 주소인지 확인했다면 클래스리스 주소체계에서는 `서브넷 마스크` 라는 이 별도의 구분자를 사용한다   

### [서브넷마스크]


